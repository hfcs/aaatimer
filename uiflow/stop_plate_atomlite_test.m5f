{"components":[{"id":"____screen","createTime":1615009015297,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","type":"screen"}],"type":"atom","versions":"Beta","units":[],"hats":[],"blockly":"<variables><variable id=\"Ah(?RvD-?wUDmHe$H.TD\">ledIsGreen</variable></variables><block type=\"timer_callback\" id=\"_x+d:02x2~D,Xv8c-b#n\" x=\"550\" y=\"10\"><field name=\"name\">timerSampler</field><statement name=\"FUNC\"><block type=\"controls_if\" id=\"EX5ly:9RYY,S9e}t-DYx\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"+8f4$w)!e;){,6m=Fk6m\"><field name=\"OP\">GT</field><comment pinned=\"false\" h=\"80\" w=\"160\">ADC0 connect to a piezoelectric \"x'mas card\" speaker in parallel to a 1M Ohm resistor. Taking small spike as knock input</comment><value name=\"A\"><block type=\"adc_read\" id=\"`+n7I06FLLf))9UF_RqJ\"><field name=\"adc\">adc0</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"e_nSC5!BGDCl%(|nnl.0\"><field name=\"NUM\">20</field></block></value></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"?ei[s3^`EG;(wsKsG:-7\"><mutation name=\"handleTargetHit\"></mutation></block></statement></block></statement></block><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"50\" y=\"50\"><next><block type=\"adc\" id=\"Y-]w`k`PxdI6iA=eY-Tc\"><field name=\"adc\">adc0</field><value name=\"pin\"><shadow type=\"math_slider\" id=\"K/i!Kz{b#L!rvIve++_Y\"><field name=\"NUM\" min=\"32\" max=\"39\" step=\"1\">33</field></shadow></value><next><block type=\"adc_width\" id=\",r`!=6;/Le_RCgb:A!6#\"><field name=\"adc\">adc0</field><field name=\"value\">WIDTH_12BIT</field><next><block type=\"adc_atten\" id=\"kFE:(P.lxjNlYQ6T[{mr\"><field name=\"adc\">adc0</field><field name=\"value\">ATTN_11DB</field><next><block type=\"dac\" id=\"Ik$AVd8xH-BhtHRA`9Nn\"><field name=\"DAC\">dac0</field><field name=\"PIN\">25</field><next><block type=\"rgb_set_brightness\" id=\"?ZpvVz]RSe.hc[*=?5-N\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"1X$78!l;fv1|=V)9daRP\"><field name=\"NUM\" max=\"100\" step=\"1\">0</field></shadow></value><next><block type=\"timer_setStart\" id=\"gj[$|kv7!FwigE:EwNij\"><field name=\"start_name\">timerSampler</field><field name=\"mode\">0x00</field><value name=\"period\"><shadow type=\"math_number\" id=\"gE~KEM|~((I;IW!J!,BX\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_on_loop\" id=\"aGe5q(6Os)a@:a;:]9;V\"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"yPhq!KRyz2/_VH.NY^6Z\" x=\"550\" y=\"170\"><field name=\"NAME\">handleTargetHit</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"rgb_set_brightness\" id=\"3xeH]q[g/WM*B=T((N1|\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"6]a:]a~fF*}?VxF{j.d)\"><field name=\"NUM\" max=\"100\" step=\"1\">100</field></shadow></value><next><block type=\"controls_ifelse\" id=\"^W7i/R@wEJ;M5_|-k]22\"><value name=\"IF0\"><block type=\"variables_get\" id=\"9sjEZ2en0sw8^HAw?o,$\"><field name=\"VAR\" id=\"Ah(?RvD-?wUDmHe$H.TD\">ledIsGreen</field></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"uW$TngB$[Qh3LV:L0yt6\"><field name=\"VAR\" id=\"Ah(?RvD-?wUDmHe$H.TD\">ledIsGreen</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"`%2c.v/|mO]q7?Lx-EAE\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"rgb_set_all\" id=\"3XLbvIGeSe;YIJ,KY;-2\"><field name=\"COLOR\">#33cc00</field></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"GOlOIAJTq_GKV-RCF[b+\"><field name=\"VAR\" id=\"Ah(?RvD-?wUDmHe$H.TD\">ledIsGreen</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"`si23WUk6id`~{E*XVbq\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"rgb_set_all\" id=\"_E!7sXU9Cdt%L7W244I#\"><field name=\"COLOR\">#ffff00</field></block></next></block></statement><next><block type=\"timer_setStart\" id=\"ctYA3DT[L;mdt;fjHMIJ\"><field name=\"start_name\">timerLedOff</field><field name=\"mode\">0x01</field><value name=\"period\"><shadow type=\"math_number\" id=\"3Wn?IN)SWv/Hu]$+YG/r\"><field name=\"NUM\">30000</field></shadow></value><next><block type=\"timer_setStop\" id=\"L=ds{hCdUd0Ga:v@D(/Y\"><field name=\"start_name\">timerSampler</field><next><block type=\"dac_beep\" id=\"`DlqBFluk^3jCf3s_s)Q\"><field name=\"DAC\">dac0</field><comment pinned=\"false\" h=\"80\" w=\"160\">Experimentally CED7000 takes around 35ms to trigger, consider the time is spec'ed between 9/100 and 2/100 second between shots, use 50ms beep to ensure it is heard</comment><value name=\"freq\"><shadow type=\"math_slider\" id=\"W%0F@t:JOrq@ZV,9-h8(\"><field name=\"NUM\" min=\"16\" max=\"32000\" step=\"1\">1800</field></shadow></value><value name=\"duration\"><shadow type=\"math_number\" id=\"71?2HRYiq58p6NmrU*yO\"><field name=\"NUM\">50</field></shadow></value><value name=\"scale\"><shadow type=\"math_slider\" id=\"XyEdMge/KF@TlX_*|M,y\"><field name=\"NUM\" max=\"3\" step=\"1\">0</field></shadow></value><next><block type=\"timer_delay_ms\" id=\"K0^b62:7Inp}V):x?hPj\"><comment pinned=\"false\" h=\"80\" w=\"160\">debounce to slightly less than 0.01 second e.g. less than one timer tick</comment><value name=\"DELAY\"><shadow type=\"math_number\" id=\"{KQW+J1ZH9.)e%PHQEXE\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_setStart\" id=\"yP|Rz`Bm4^@ZifqXNYZq\"><field name=\"start_name\">timerSampler</field><field name=\"mode\">0x00</field><value name=\"period\"><shadow type=\"math_number\" id=\"R%K^*CdbAy2$*E^Q}`x!\"><field name=\"NUM\">10</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"timer_callback\" id=\"cdNJh?erIqnLoT+Dn:I_\" x=\"50\" y=\"350\"><field name=\"name\">timerLedOff</field><statement name=\"FUNC\"><block type=\"rgb_set_brightness\" id=\"E;6;eKGc_xK]Ft]xd/;w\"><value name=\"BRIGHTNESS\"><shadow type=\"math_slider\" id=\"NUKMu2`puArP-R|9T8^0\"><field name=\"NUM\" max=\"100\" step=\"1\">0</field></shadow></value></block></statement></block><block type=\"button_callback\" id=\"9s3!n-ZAQ,mpuR}9kBPM\" x=\"50\" y=\"510\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"procedures_callnoreturn\" id=\"t]9+4n4dGP6S!7[kKkgX\"><mutation name=\"handleTargetHit\"></mutation></block></statement></block>","Blockly.Remotes":[],"modules":["machine","rgb"]}